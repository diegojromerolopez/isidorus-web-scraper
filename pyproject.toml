[tool.black]
line-length = 88
target-version = ['py310']
include = '\.pyi?$'

[tool.isort]
profile = "black"
known_first_party = ["api", "workers", "shared", "authentication", "auth_admin"]

[tool.ruff]
line-length = 88
target-version = "py310"

[tool.ruff.lint]
select = ["E", "F", "B", "I"]
ignore = ["B008"]

[tool.mypy]
python_version = "3.10"
warn_return_any = true
warn_unused_configs = true
disallow_untyped_defs = true
check_untyped_defs = true
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "boto3.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "psycopg.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "langchain_openai.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "langchain_core.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "tortoise.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "botocore.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "psycopg2.*"
ignore_missing_imports = true

# Disable strict type checking for Tortoise ORM models
[[tool.mypy.overrides]]
module = "api.models"
disallow_untyped_defs = false

# Disable strict type checking for langchain services
[[tool.mypy.overrides]]
module = "workers.image_extractor.services.explainer_factory"
disallow_untyped_defs = false

# Disable strict type checking for db_repository due to Tortoise ORM dynamic attributes
[[tool.mypy.overrides]]
module = "api.repositories.db_repository"
disallow_untyped_defs = false

[[tool.mypy.overrides]]
module = "langchain_anthropic.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "langchain_google_genai.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "langchain_huggingface.*"
ignore_missing_imports = true

[[tool.mypy.overrides]]
module = "langchain_ollama.*"
ignore_missing_imports = true

# Redundant overrides removed as ignore_missing_imports is now global
